---
import { Icon } from "astro-icon/components"

interface Props {
  title: string
  titleHtml?: string
  description?: string
  iconName?: string
  iconBgClass?: string
  iconClass?: string
  iconSizeClass?: string
  variant?: "default" | "hero"
}

const {
  title,
  titleHtml,
  description,
  iconName,
  iconBgClass = "bg-primary/10",
  iconClass = "text-primary",
  iconSizeClass = "w-8 h-8",
  variant = "default",
} = Astro.props

const isHero = variant === "hero"
const titleSizeClass = isHero
  ? "text-4xl lg:text-6xl mb-3 mt-8 lg:mt-0"
  : "text-3xl md:text-4xl lg:text-5xl mb-4"
const descriptionSizeClass = isHero
  ? "text-lg lg:text-xl max-w-xl lg:max-w-2xl"
  : "text-base md:text-lg max-w-2xl"
const actionsSpacingClass = isHero ? "mt-10" : ""
---

<div class="text-center mb-16">
  {iconName && (
    <div
      class={`inline-flex items-center justify-center w-16 h-16 ${iconBgClass} rounded-full mb-6 animate-fade-in-up`}
      style="animation-delay: 0s"
    >
      <Icon name={iconName} class={`${iconSizeClass} ${iconClass}`} />
    </div>
  )}

  <h1
    class={`font-bold tracking-tight leading-none animate-fade-in-up ${titleSizeClass}`}
    style={`animation-delay: ${iconName ? "0.1s" : "0s"}`}
  >
    {titleHtml ? <span set:html={titleHtml} /> : title}
  </h1>

  {description && (
    <p
      class={`text-muted-foreground leading-relaxed mx-auto mb-6 animate-fade-in-up ${descriptionSizeClass}`}
      style={`animation-delay: ${iconName ? "0.2s" : "0.1s"}`}
    >
      {description}
    </p>
  )}

  {Astro.slots.has("actions") && (
    <div
      class={`flex flex-wrap items-center justify-center gap-4 animate-fade-in-up ${actionsSpacingClass}`}
      style={`animation-delay: ${iconName ? "0.3s" : "0.2s"}`}
    >
      <slot name="actions" />
    </div>
  )}

  <div class="animate-fade-in-up" style={`animation-delay: ${iconName ? "0.35s" : "0.25s"}`}>
    <slot />
  </div>
</div>
