---
import "../styles/globals.css";
import { getBaseHeadConfig } from "../config/head.config.ts";
import { siteConfig } from "../config/site.config.js";

export interface Props {
  title?: string;
  description?: string;
  image?: string;
}

const { title, description, image } = Astro.props;

// Get the complete shared head configuration including base tags
// Will use defaults from siteConfig if title/description not provided
const baseHeadConfig = getBaseHeadConfig(siteConfig, {
  title: title || siteConfig.title,
  description: description || siteConfig.description,
  imageURL: image || siteConfig.defaultImage,
});
---

<!-- Generate shared head elements -->
{baseHeadConfig.map((headItem) => {
  const TagName = headItem.tag;
  return (
    <TagName {...headItem.attrs} />
  );
})}

<!-- Page title -->
<title>{title || siteConfig.title}</title>
